<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>КВВ</title>
	<link rel="stylesheet" href="styles.css">
	<link rel="icon" href="img/agent_smith.png" type="image/x-icon">
	<script type="text/javascript">
		
		var score = 0;
		var numberOfRiddles = 0;

		function checkAnswer(inputId, answers){
			var userAnswer = document.getElementById(inputId).value;
			userAnswer = userAnswer.toLowerCase();
			for(var i = 0; i < answers.length; i++){
				if(userAnswer == answers[i]){
					score++;
					numberOfRiddles++;
					return;
				}
			}
			numberOfRiddles++;
		}

	
		function write (text){
			document.getElementById("info").innerHTML = text;
		}	

		function hide (id){
			document.getElementById(id).style.display = "none";
		}

		function show(id){
			document.getElementById(id).style.display = "initial";
		}

		function checkAnswers (){
			
		checkAnswer("userAnswer1",  ["лампочка", "лампа"]);
		checkAnswer("userAnswer2", ["ель", "елка", "ёлка"]);
		checkAnswer("userAnswer3", ["качеля", "качели", "качель"]);


			if (score == numberOfRiddles) {
				
			write('Вы ответили на все ' + numberOfRiddles + ' загадки правильно. Поздравляю!' );
			hide ('button');
			hide ('userAnswer1');
			hide ('userAnswer2');
			hide ('userAnswer3');
				
			} else if (score < numberOfRiddles && score > 0) {

			write('Вы ответили на ' + score + ' из ' + numberOfRiddles + ' загадки правильно.<br> Попробуйте еще раз. Нажмите "Сбросить"' );
			hide('button');
			hide('userAnswer1');
			hide('userAnswer2');
			hide('userAnswer3');
			} else {

			write('Вы не ответили ни на одну из '  + numberOfRiddles + ' загадок правильно.<br> Попробуйте еще раз. Нажмите "Сбросить"' );
			hide('button');
			hide('userAnswer1');
			hide('userAnswer2');
			hide('userAnswer3');
		    }

		}

		function reset(){
			document.getElementById("info").innerHTML = '';
			document.getElementById("userAnswer1").value = '';
			document.getElementById("userAnswer2").value = '';
			document.getElementById("userAnswer3").value = '';
			show('button');
			show('userAnswer1');
			show('userAnswer2');
			show('userAnswer3');
		}


	
	</script>
</head>
<body>
	<div id="page-container">
		<div id="content-wrap">
			<header>
				<a href="index.html"> Главная</a>
				<a href="puzzle.html"> Загадки</a>
				<a href="guess.html"> Угадайка</a>
				<a href="guess_multiplayer.html"> Угадайка для двух игроков</a>
				<a href="generator.html"> Генератор случайных паролей</a>
			</header>
			<main>
				<h1 class="maintext">Игра в загадки</h1>
				<div class="box">

					<p id="info"></p>
					<input type="text" id="userAnswer1" placeholder="Висит груша нельзя скушать">
					<input type="text" id="userAnswer2" placeholder="Зимой и летом одним цветом">
					<input type="text" id="userAnswer3" placeholder="Туда-сюда-обратно, тебе и мне приятно"><br>
					<button type="button" onClick="checkAnswers();" id="button">Ответить</button>
					<button type="reset" onClick="document.location.reload(true);" value="Сбросить">Сбросить</button>
				</div>			
			 </main>
		</div>
		 <footer>
			<span>Copyright &copy; kuznevia</span>
		</footer>
	</div>
</body>
</html>